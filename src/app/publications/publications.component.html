<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <div class="card"></div>
    </div>
  </div>
  <div class="card">
    <div class="card-header">
      <H3>Posts</H3>
    </div>

    <form
      #newPubForm="ngForm"
      (ngSubmit)="onSubmit(newPubForm)"
      class="col-sm-10 color-dark offset-1"
    >
      <mat-form-field class="example-full-width col-sm-6">
        <textarea
          name="text"
          #text="ngModel"
          [(ngModel)]="publication.text"
          matInput
          placeholder="New post today?"
        ></textarea>
      </mat-form-field>

      <mat-form-field class="col-sm-6">
        <ngx-mat-file-input
          #removableInput
          type="file"
          name="image"
          [(ngModel)]="image"
          (change)="onSelectFile($event); fileChangeEvent($event)"
          placeholder="Photo:"
        >
        </ngx-mat-file-input>

        &nbsp;

        <img
          *ngIf="!removableInput.empty"
          class="logo_preview max-width:2%"
          [src]="urlPreview"
        />

        &nbsp;

        <button
          mat-icon-button
          *ngIf="!removableInput.empty"
          (click)="removableInput.clear($event)"
        >
          <mat-icon>clear</mat-icon>
        </button>

        &nbsp;

        <mat-icon matSuffix class="icon_mod">add_photo_alternate</mat-icon>
      </mat-form-field>
      <div class="text-center">
        <button
          matTooltip=" Update profile"
          matTooltipPosition="above"
          type="submit"
          class=" upload btn btn-lightborder border-dark  btn btn-light text-center "
          color="silver"
          [disabled]="!newPubForm.form.valid"
        >
          <i class="material-icons">
            cloud_upload
          </i>
        </button>
      </div>
      <br />
    </form>
    <br />
    <div class="text-center">
      <h1>Posts:</h1>
    </div>
    <div *ngFor="let publication of publications">
      <div class="card">
        <div class="card-header">
          <h3>
            <img
              class="img-thumbnail border border-dark"
              id="avatar"
              src="{{ url + 'get-image-user/' + publication.user.image }}"
              *ngIf="user.image"
            />
            <img
              class="img-thumbnail border border-dark"
              id="avatar"
              src="assets/user.jpg"
              *ngIf="!publication.user.image"
            />

            <a id="avatar">{{
              publication.user.name + " " + publication.user.surname
            }}</a>
          </h3>
        </div>
        <div class="card-body">
          <h4>
            {{ publication.text }}
          </h4>
        </div>
      </div>
    </div>
  </div>

  <button
    matTooltip="Notifications"
    matTooltipPosition="left"
    class="floating3 mat-fab mat-raised mat-mini mat-white text-light bg-dark mat-elevation-z18"
    routerLink="/edit-user"
  >
    <mat-icon class="icon_help">notification_important</mat-icon>
  </button>
  <button
    matTooltip="Settings"
    matTooltipPosition="left"
    class="floating2 mat-fab mat-raised mat-mini mat-white text-light bg-dark mat-elevation-z18"
    routerLink="/edit-user"
  >
    <mat-icon class="icon_help">settings</mat-icon>
  </button>
  <button
    matTooltip="Messages"
    matTooltipPosition="left"
    class="floating1 mat-fab mat-raised mat-mini mat-white text-light bg-dark mat-elevation-z18"
    type="button"
  >
    <mat-icon class="icon_help">message</mat-icon>
  </button>

  <button
    matTooltip="Help"
    matTooltipPosition="left"
    class="floating mat-fab mat-raised mat-mini mat-white text-light bg-dark mat-elevation-z18"
    type="button"
  >
    <mat-icon class="icon_help">help_outline</mat-icon>
  </button>
</div>
